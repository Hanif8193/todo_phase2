# Phase II Todo Application - Environment Variables Template
# Copy this file to .env (backend) and .env.local (frontend) and fill in your values

# =============================================================================
# SHARED SECRETS (Must be identical in both backend and frontend)
# =============================================================================

# Better Auth shared secret for JWT signing and validation
# CRITICAL: This MUST be the same in both backend/.env and frontend/.env.local
# Generate with: openssl rand -base64 32
# Minimum length: 32 characters
BETTER_AUTH_SECRET=your_random_secret_here_minimum_32_characters

# =============================================================================
# BACKEND-ONLY VARIABLES (backend/.env)
# =============================================================================

# Neon PostgreSQL connection string
# Format: postgresql://user:password@host/database?sslmode=require
# Get from: https://console.neon.tech/
DATABASE_URL=postgresql://user:password@your-neon-host.neon.tech/your-database?sslmode=require

# Backend API host configuration
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000

# CORS allowed origins (frontend URL)
CORS_ORIGINS=http://localhost:3000

# =============================================================================
# FRONTEND-ONLY VARIABLES (frontend/.env.local)
# =============================================================================

# Backend API base URL (where frontend will send requests)
NEXT_PUBLIC_API_URL=http://localhost:8000

# Better Auth configuration
BETTER_AUTH_URL=http://localhost:3000
BETTER_AUTH_SECRET=your_random_secret_here_minimum_32_characters

# =============================================================================
# SECURITY NOTES
# =============================================================================

# 1. NEVER commit .env or .env.local files to git
# 2. Ensure BETTER_AUTH_SECRET is exactly the same in both .env files
# 3. Use strong, random secrets in production
# 4. DATABASE_URL must use SSL in production (sslmode=require)
# 5. Update CORS_ORIGINS in production to match your deployed frontend domain
# 6. Keep this .env.example file up to date as new variables are added

# =============================================================================
# GENERATING SECURE SECRETS
# =============================================================================

# Linux/Mac:
#   openssl rand -base64 32
#
# Python:
#   python -c "import secrets; print(secrets.token_urlsafe(32))"
#
# Node.js:
#   node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"

# =============================================================================
# PRODUCTION DEPLOYMENT CONFIGURATION
# =============================================================================

# Backend Production:
# - DATABASE_URL: Use Neon production connection string with SSL
# - BACKEND_HOST: Set to 0.0.0.0
# - BACKEND_PORT: Use cloud provider's assigned port or 8000
# - CORS_ORIGINS: Update to your production frontend URL (https://your-domain.com)
# - BETTER_AUTH_SECRET: Use strong 32+ character secret
#
# Example production backend .env:
# DATABASE_URL=postgresql://prod_user:strong_password@prod-neon-host.neon.tech/prod_db?sslmode=require
# BACKEND_HOST=0.0.0.0
# BACKEND_PORT=8000
# CORS_ORIGINS=https://your-app.vercel.app
# BETTER_AUTH_SECRET=<your_production_secret_from_secure_storage>

# Frontend Production:
# - NEXT_PUBLIC_API_URL: Update to your production backend URL
# - BETTER_AUTH_URL: Update to your production frontend URL
# - BETTER_AUTH_SECRET: MUST match backend secret exactly
#
# Example production frontend .env.local:
# NEXT_PUBLIC_API_URL=https://api.your-domain.com
# BETTER_AUTH_URL=https://your-app.vercel.app
# BETTER_AUTH_SECRET=<same_production_secret_as_backend>

# Security Checklist for Production:
# ☐ Strong BETTER_AUTH_SECRET (minimum 32 chars, cryptographically random)
# ☐ Database connection uses SSL/TLS (sslmode=require)
# ☐ CORS_ORIGINS restricted to your frontend domain only
# ☐ All secrets stored in secure environment variable storage
# ☐ HTTPS enabled on both frontend and backend
# ☐ No .env files committed to version control
